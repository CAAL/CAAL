<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CAAL</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link href="lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="lib/fontawesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="lib/smartmenus/jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="lib/jquery-1.11.1.min.js"></script>
    <script src="lib/snap.svg-min.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="lib/smartmenus/jquery.smartmenus.min.js"></script>
    <script src="lib/smartmenus/jquery.smartmenus.bootstrap.min.js"></script>
    <script src="lib/ace/src/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/ace/src/ext-language_tools.js"></script>
    <script src="lib/EventEmitter.min.js"></script>
    <script type="text/javascript" src="lib/ccs_grammar.js"></script>
    <script src="lib/hml_grammar.js"></script>
    <script src="lib/arbor.js"></script>
    <script src="lib/graphics.js"></script>
    <script src="lib/main.js"></script>
    <script>$(document).ready(Main.setup);</script>
  </head>
  <body>
    <!-- Top navigation -->
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Caal</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            <li><a>Project</a>
              <ul class="dropdown-menu">
                <li id="new-btn"><a>New Project</a></li>
                <li><a>Save</a>
                  <ul class="dropdown-menu">
                    <li><a id="save-file-btn">To File</a></li>
                    <li id="save-projects-btn"><a>To My Projects</a></li>
                  </ul>
                </li>
                <li><a>Load</a>
                  <ul class="dropdown-menu">
                    <li id="load-file-btn"><a>From File</a></li>
                    <input type="file" id="file-input" class="hidden" accept=".ccs-project" />
                    <li class="divider"></li>
                    <li id="projects-list" class="dropdown-header" role="presentation">My Projects</li>
                    <li class="divider"></li>
                    <li id="examples-list" class="dropdown-header" role="presentation">Examples</li>
                  </ul>
                </li>
                <li><a>Delete</a>
                  <ul class="dropdown-menu">
                    <li id="delete-list" class="dropdown-header" role="presentation">My Projects</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="divider-vertical"></li>
            <li id="edit-btn" class="active"><a>Edit</a></li>
            <li id="explore-btn"><a>Explore</a></li>
            <li id="verify-btn"><a>Verify</a></li>
            <li id="game-btn"><a>Game</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a>About</a></li>
            <li><a>Help</a></li>
            <li><a href="https://github.com/CAAL/CAAL"><i class="fa fa-github fa-lg"></i></a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <!-- Editor -->
      <div id="editor-container">
        <h4 id="project-title" class="pull-left" contenteditable="true">Alternating Bit Protocol</h4>
        <div class="btn-group pull-right">
          <button id="parse-btn" type="button" class="btn btn-default">Parse</button>
          <div class="btn-group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              Font Size
              <span class="caret"></span>
            </button>
            <ul id="font-size-btn" class="dropdown-menu" role="menu">
              <li><a>10</a></li>
              <li><a>12</a></li>
              <li><a>14 <i class="fa fa-check"></i></a></li>
              <li><a>16</a></li>
              <li><a>18</a></li>
              <li><a>20</a></li>
              <li><a>22</a></li>
              <li><a>24</a></li>
            </ul>
          </div>
        </div>
        <div class="clearfix"></div>
        <div class="editor-border">
          <div id="editor"></div>
        </div>
        <div id="status-area" class="alert alert-dismissible" role="alert">
          <button type="button" class="close" data-hide="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <p></p>
        </div>
      </div>

      <!-- Explorer -->
      <div id="explorer-container">
        <div id="fullscreen-container">
          <div class="btn-group pull-right">
            <button id="explorer-freeze-btn" type="button" class="btn btn-default">Freeze</button>
            <a id="explorer-save-btn" class="btn btn-default">Save Image</a>
            <button id="explorer-fullscreen-btn" type="button" class="btn btn-default">Fullscreen</button>
          </div>
          <div class="clearfix"></div>
          <canvas id="arbor-canvas"></canvas>
        </div>
        <hr>
        <div id="status-table-container">
          <h4>Source Definition</h4>
          <p id="explorer-source-definition" style="margin-left: 2em"></p>
          <h4>Target Processes</h4>
          <table id="status-table" class="table table-responsive table-striped table-condensed" >
            <thead>
              <tr>
                <th>Action</th>
                <th>Target</th>
                <th>Target Definition</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Verifier -->
      <div id="verifier-container">
        <div class="row">
          <div class="col-md-7">
            <div class="table-responsive">
              <table id="property-table" class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="col-md-1 text-center">Status</th>
                    <th class="col-md-9">Property</th>
                    <th class="col-md-1 text-center">Delete</th>
                    <th class="col-md-1 text-center">Verify</th>
                  </tr>
                </thead>
                  <tbody>
                  </tbody>
              </table>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                Add Property
                <span class="caret"></span>
              </button>
              <ul id="add-property" class="dropdown-menu" role="menu">
                <li class="dropdown-header" role="presentation">Equivalence</li>
                <li id="strong"><a>Strong Bisimulation</a></li>
                <li id="weak"><a>Weak Bisimulation</a></li>
                <li id="trace" class="disabled"><a>Trace Equivalence</a></li>
                <li class="divider"></li>
                <li class="dropdown-header" role="presentation">Model Checking</li>
                <li id="hml"><a>HML</a></li>
              </ul>
            </div>
            <div class="btn-group pull-right">
              <button id="verify-stop" type="button" class="btn btn-default" disabled>Stop</button>
              <button id="verify-all" type="button" class="btn btn-default">Verify All</button>
            </div>
          </div>
          <div class="col-md-5">
            <div class="row">
              <div class="col-md-12">
                <div id="equivalence">
                  <div class="form-group">
                    <label for="equivalence-first-process" class="control-label">First Process</label>
                    <select id="equivalence-first-process" class="form-control"></select>
                  </div>
                  <div class="form-group">
                    <label for="equivalence-second-process" class="control-label">Second Process</label>
                    <select id="equivalence-second-process" class="form-control"></select>
                  </div>
                </div>
                <div id="model-checking">
                  <div class="form-group">
                    <label for="hml-process" class="control-label">Process</label>
                    <select id="hml-process" class="form-control"></select>
                    <div class="editor-border">
                      <div id="hml-editor"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Game -->
      <div id="game-container">
        <div class="row">
          <div class="col-md-12">
            <svg id="tracesvg"/>
          </div>
        </div>
        <div id="game-console" class="well well-sm">
          <ul>
          </ul>
        </div>
        <div id="game-actions-table-container">
          <table id="actions-table" class="table table-responsive table-striped table-condensed" >
            <thead>
              <tr>
                <th>LTS</th>
                <th>Action</th>
                <th>Destination</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Modals -->
    <div id="delete-modal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Confirm Delete</h4>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this project?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <button id="confirm-delete" type="button" class="btn btn-primary">Delete</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="viz-mode-dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Select Initial Process</h4>
          </div>
          <div class="modal-body" id="viz-mode-dialog-body">
            Select whether to use strong or weak successors:<br>
            <div class="btn-group" data-toggle="buttons">
              <label class="btn btn-primary active">
                <input type="radio" name="viz-mode-succgen" value="strong" autocomplete="off" checked>Strong Successors
              </label>
              <label class="btn btn-primary">
                <input type="radio" name="viz-mode-succgen" value="weak" autocomplete="off">Weak Successors
              </label>
            </div>
            <br>
            Select whether to simplify processes:
            <br>
            <button type="button" id="viz-mode-reduce-btn" class="btn btn-primary active" data-toggle="button" aria-pressed="true" autocomplete="off">Simplify</button>
            <br>
            <label for="viz-mode-dialog-depth">Select how deep to expand</label>
            <select class="form-control" id="viz-mode-dialog-depth">
              <option selected>1</option>
              <option>2</option>
              <option>3</option>
              <option>5</option>
              <option>10</option>
              <option>100</option>
              <option>500</option>
            </select><br>
            <p>Select initial process</p>
            <div id="viz-mode-dialog-body-list"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="game-mode-dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Setup Game</h4>
          </div>

          <div class="modal-body" id="game-mode-dialog-body">
            <label for="game-mode-dialog-depth">First Process</label>
            <select class="form-control" id="game-mode-dialog-processa">
            </select><br>
            <label for="game-mode-dialog-depth">Second Process</label>
            <select class="form-control" id="game-mode-dialog-processb">
            </select><br>
            <p>Select Bisimulation Type</p>
            <div id="game-mode-dialog-succ-list">
              <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-default btn-lg btn-block active">
                  <input type="radio" name="options" id="strong" autocomplete="off" checked> Strong Bisimulation
                </label>
                <label class="btn btn-default btn-lg btn-block">
                  <input type="radio" name="options" id="weak" autocomplete="off"> Weak Bisimulation
                </label>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <div id="game-btn-group" class="btn-group" role="group">
              <button type="button" id="start-btn" class="btn btn-success" data-dismiss="modal">Start</button>
              <button type="button" id="cancel-btn" class="btn btn-danger" data-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>    
    <div class="modal fade" id="explain-dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="explain-dialog-title"></h4>
          </div>
          <div class="modal-body">
            <p id="explain-dialog-body-par"></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
          </div>
        </div>
      </div>
    </div>
    <div id="tip"></div>
  </body>
</html>